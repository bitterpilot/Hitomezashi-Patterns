<!-- Guided by -->
<!-- https://chanind.github.io/javascript/svg/2019/01/13/manipulating-and-animating-svg-with-raw-javascript.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta
      http-equiv="refresh"
      content="90; URL=file:///Users/nathan/Documents/Hitomezashi-Patterns/drawFunction.html"
    />
  </head>
  <body>
    <div id="svg-container"></div>
  </body>
  <script>
    // Initialising data
    const numColumns = 5 - 1; // value from user 5 take one to account for 0 index
    const numRows = 5 - 1; // value from user

    // var maxWidth = window.innerWidth;
    var lineLength = 50;

    // if (maxWidth / numColumns > 50) {
    //   // maximum length
    //   lineLength = 50;
    // } else if (maxWidth / numColumns < 50) {
    //   // minimum length
    //   lineLength = 20;
    // } else {
    //   // standard length
    //   lineLength = 30;
    // }

    // blah blah calculate view box
    const svgContainer = document.getElementById("svg-container");
    const svgNode = document.createElementNS(
      "http://www.w3.org/2000/svg",
      "svg"
    );
    svgNode.setAttributeNS(null, "viewBox", "0 0 250 250");
    svgContainer.appendChild(svgNode);

    var mod = true;
    // -----------------------------------------------------------------------
    // Draw Y-axis
    // -----------------------------------------------------------------------
    for (let i = 1; i <= numColumns; i++) {
      var x = lineLength * i;
      for (let j = 0; j <= numRows; j++) {
        if (mod) {
          j++;
        }

        const lineNode = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "line"
        );
        lineNode.setAttribute("stroke", "green");
        lineNode.setAttribute("x1", x);
        lineNode.setAttribute("x2", x);
        lineNode.setAttribute("y1", lineLength * j);
        lineNode.setAttribute("y2", lineLength * (j + 1));

        svgNode.appendChild(lineNode);
        if (!mod) {
          j++;
        }
      }
      // *******************************************************
      // Demonstration only
      // Mock code to pretend that the user has made a decision
      // mod = !mod;
      mod = Math.random() >= 0.5;
      // Demonstration only
      // *******************************************************
    }
    var mod = true;
    // -----------------------------------------------------------------------
    // Draw x-axis
    // -----------------------------------------------------------------------
    for (let i = 1; i <= numColumns; i++) {
      var y = lineLength * i;
      for (let j = 0; j <= numRows; j++) {
        if (mod) {
          j++;
        }

        const lineNode = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "line"
        );
        lineNode.setAttribute("stroke", "red");
        lineNode.setAttribute("x1", lineLength * j);
        lineNode.setAttribute("x2", lineLength * (j + 1));
        lineNode.setAttribute("y1", y);
        lineNode.setAttribute("y2", y);

        svgNode.appendChild(lineNode);

        if (!mod) {
          j++;
        }
      }
      // *******************************************************
      // Demonstration only
      // Mock code to pretend that the user has made a decision
      // mod = !mod;
      mod = Math.random() >= 0.5;
      // Demonstration only
      // *******************************************************
    }
  </script>
</html>
